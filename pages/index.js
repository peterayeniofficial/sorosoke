import Head from 'next/head';

import { Button, Code, Text, Icon, Box, Flex } from '@chakra-ui/react';

import { useAuth } from '@/lib/auth';

const Logo = (props) => (
  <Icon viewBox="0 0 8.467 10.583" {...props}>
    <path
      fill="none"
      stroke="currentColor"
      d="M 4.9371665,4.8471225e-8 A 0.26460979,0.26460979 0 0 0 4.6715497,0.26354986 V 3.2654338 A 0.26460979,0.26460979 0 0 0 5.0797936,3.4881592 L 5.8337527,3.0018839 H 8.2010511 A 0.26460979,0.26460979 0 0 0 8.4666663,2.7362671 V 0.26354986 A 0.26460979,0.26460979 0 0 0 8.2010511,4.8471225e-8 Z M 5.2012331,0.52916671 H 7.9374997 V 2.4727173 H 5.7557212 a 0.26460979,0.26460979 0 0 0 -0.144694,0.040824 L 5.2012331,2.7791585 Z M 2.406055,1.4707113 C 1.712245,1.4696113 1.0691167,1.8869081 0.79736769,2.5455811 0.4867966,3.298349 0.74311938,4.1695955 1.4118003,4.6343424 2.0804754,5.0990875 2.9864548,5.035378 3.5837609,4.4818969 a 0.26541391,0.26541391 0 0 0 0.013952,-0.374654 L 2.9889651,3.4494017 3.8845175,3.4132284 A 0.26541391,0.26541391 0 0 0 4.1387657,3.1367595 C 4.1054957,2.3231204 3.5076284,1.639534 2.7057781,1.497583 2.6055463,1.479843 2.50517,1.4708613 2.406055,1.4707113 Z m -0.00155,0.5307169 c 0.06898,2.08e-4 0.138852,0.0062 0.2087729,0.018604 0.469441,0.08311 0.832113,0.430374 0.9513631,0.874882 L 2.3921024,2.9429728 A 0.26541391,0.26541391 0 0 0 2.2081342,3.3884238 L 3.0060183,4.2488363 C 2.6080323,4.4799321 2.1060902,4.4707942 1.7146244,4.1987102 1.2481563,3.8745041 1.071122,3.2727678 1.2877769,2.747636 1.477349,2.2881459 1.9216577,2.0000042 2.404505,2.0014282 Z M 2.401925,5.2792643 C 1.0751429,5.2792643 3.1814256e-7,6.3549236 3.1814256e-7,7.6817016 V 8.2010498 A 0.26460987,0.26460987 0 0 0 0.26355019,8.4666666 H 4.5408083 A 0.26460987,0.26460987 0 0 0 4.8064253,8.2010498 V 7.6817016 c 0,-1.326778 -1.0777265,-2.4024373 -2.4045044,-2.4024373 z m 0,0.5276165 c 1.0427819,0 1.8753378,0.8320399 1.8753378,1.8748208 V 7.9374999 H 0.52916698 V 7.6817016 c 0,-1.0427809 0.82997202,-1.8748208 1.87275392,-1.8748208 z"
    />
  </Icon>
);

export default function Home() {
  const auth = useAuth();

  console.log(auth);

  return (
    <Flex
      as="main"
      direction="column"
      align="center"
      justify="center"
      h="100vh"
    >
      <Head>
        <title>Sorosoke</title>
      </Head>

      <Logo boxSize={20} />
      <Text>
        <Code>Speak Up</Code> Now!
      </Text>

      {auth.user ? (
        <div>
          <Button mt={4} onClick={(e) => auth.signout()}>
            Sign Out
          </Button>
        </div>
      ) : (
        <Button mt={4} onClick={(e) => auth.signinWithGitHub()}>
          Sign In
        </Button>
      )}
    </Flex>
  );
}
